---
layout: article
article: true
permalink: /blog/article/usb
title: "Access to a computer from USB key"
cover: "usb.jpg"
description: "Somebody with USB key can take control of your computer"
time_reading_minutes: "5"
categories: ["Security"]
---

Imagine that you are in the following situation:

1. You have forgotten your password,
2. Following a wrong manipulation you can not access to your personal space anymore, 
3. You found a computer without supervision. 

With a bootable USB key on Ubuntu, you can change the password of the target computer and recover its file system.

First, plug your USB drive into the target computer, choose your key as the boot device for the target computer to boot to the Ubuntu system on your USB drive. On a DELL computer, press `F12` to access this selection. This information is visible on the welcome screen of the manufacturer of your computer.

{% include image.html title="DELL welcome screen" 
src="https://github.com/glegoux/glegoux.com/blob/master/articles/3edxtxE/welcome-screen-dell.png?raw=true" 
width="700" %}

Start by choosing the following option: 

{% include image.html title="Advanced startup options" 
src="https://github.com/glegoux/glegoux.com/blob/master/articles/3edxtxE/hack1.png?raw=true" 
width="700" %}

Then select the `recovery mode`:

{% include image.html title="Getting started in recovery mode" 
src="https://github.com/glegoux/glegoux.com/blob/master/articles/3edxtxE/hack2.png?raw=true" 
width="700" %}

Launch a `root shell`:

{% include image.html title="Choosing the root shell" 
src="https://github.com/glegoux/glegoux.com/blob/master/articles/3edxtxE/hack3.png?raw=true" 
width="700" %}

You access a device as a `root` user.

<pre class="info">
If you need to access the internet, select the network entry before. To verify that you have access to the web you can <i>ping 8.8.8.8</i> on the Google DNS server, then make <i>nslookup  8.8.8.8</i> to check that the DNS resolution works. If that does not work, add this line <i>nameserver 8.8.8.8</i> to the file <i>/etc/resolv.conf</i> (this will be deleted when you restart the computer) and restart your service <i>network-manager</i> with <i>service network-manager restart</i>.
</pre>

For the moment the file system is only in `read only`, type the following command to mount the file system in` read / write` at the root of your key:
 
~~~ terminal
mount -o remount, rw /
~~~

Now you can copy the file system to an external hard drive, and then you can choose the new user password by typing:

~~~ terminal
passwd <username>
~~~
 
<pre class="info">
If you do not know the users on this machine, you can do <i>ls /home</i>. Certainly a user of this machine corresponds to a directory name in <i>/home/</i>, or even view the file <i>/etc/passwd</i>, or else you can create a user as you are <i>root</i>.
</pre>

Type in the new password and confirm.

You can shut down the computer.

~~~ terminal
shutdown -h now
~~~

You can now turn on the computer normally and log in with the chosen user and password.

<pre class="error">
Beware the morality of this article is that a person physically accessing your computer does not need login /password to access your computer. If you want to protect yourself from this attack, you must <b>encrypt your hard drive</b>.
</pre>

Well done :smile:!
